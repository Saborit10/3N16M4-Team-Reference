for (int nmask = mask; ; nmask = (nmask - 1 ) & mask ) {
 ///... you can use s ...
 if (nmask == 0)  break;
}
